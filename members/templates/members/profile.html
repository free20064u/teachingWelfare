{% extends "base/base.html" %}
{% load static %}


{% block content %}
<div class="container">
    <div class="text-center">
        <h5 class="text-center my-3">Personal Information</h5>
    </div>
    <h6>Personal Details</h6>
    <p class="text-muted mb-0">Full Name</p>
    <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.first_name }} {{ request.user.middle_name }} {{ request.user.last_name }}</p>
    <p class="text-muted mb-0">Email</p>
    <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.email }}</p>
    <div class="row d-flex">
        <div class="col-6">
            <p class="text-muted mb-0">Date Of Birth</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.date_of_birth }} </p>
        </div>
        <div class="col-6">
            <p class="text-muted mb-0">Gender</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.gender }} </p>
        </div>
    </div>
    <div class="row d-flex">
        <div class="col-6">
            <p class="text-muted mb-0">Phone</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.phone_number }} </p>
        </div>
        <div class="col-6">
            <p class="text-muted mb-0">Region</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.region }} </p>
        </div>
    </div>
    <div class="row d-flex">
        <div class="col-6">
            <p class="text-muted mb-0">Home Town</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.home_town }} </p>
        </div>
        <div class="col-6">
            <p class="text-muted mb-0">House Number</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ request.user.house_number }} </p>
        </div>
    </div>
    <h6>Spouse Details</h6>
    <p class="text-muted mb-0">Full Name</p>
    <p class="bg-light bg-opacity-50 rounded p-2">{{ spouse.first_name }} {{ spouse.middle_name }} {{ spouse.last_name }}</p>
    <div class="row d-flex">
        <div class="col-6">
            <p class="text-muted mb-0">Phone number</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ spouse.phone_number }} </p>
        </div>
        <div class="col-6">
            <p class="text-muted mb-0">House Number</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ spouse.house_number }} </p>
        </div>
    </div>

    {# Children's Details Section - Loops through children or shows a message #}
    <h6>Children's Details</h6>
    <ul class="list-group mb-3">
        {% for child in children %}
         <li class="list-group-item d-flex justify-content-between align-items-center bg-light bg-opacity-50">
            <span>{{ child.first_name }} {{ child.middle_name|default:"" }} {{ child.last_name|default:"" }}</span>
            {# This link should point to a view that handles deleting a child record #}
            <a href="#" class="btn btn-sm btn-outline-danger"><i class="fas fa-trash-alt"></i></a>
        </li>
        {% empty %}
        <li class="list-group-item text-muted bg-light bg-opacity-50">No children details provided.</li>
        {% endfor %}
    </ul>

    <h6>Parent's Details</h6>
    <p class="text-muted mb-0">Full Name</p>
    <p class="bg-light bg-opacity-50 rounded p-2">{{ parent.fathers_first_name }} {{ parent.fathers_middle_name }} {{ parent.fathers_last_name }}</p>
    <p class="bg-light bg-opacity-50 rounded p-2">{{ parent.mothers_first_name }} {{ parent.mothers_middle_name }} {{ parent.mothers_last_name }}</p>


    <h6>Next Of Kin</h6>
    <p class="text-muted mb-0">Full Name</p>
    <p class="bg-light bg-opacity-50 rounded p-2">{{ next_of_kin.first_name }} {{ next_of_kin.middle_name }} {{ next_of_kin.last_name }}</p>
    <div class="row d-flex">
        <div class="col-6">
            <p class="text-muted mb-0">Phone number</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ next_of_kin.phone_number }} </p>
        </div>
        <div class="col-6">
            <p class="text-muted mb-0">House Number</p>
            <p class="bg-light bg-opacity-50 rounded p-2">{{ next_of_kin.house_number }} </p>
        </div>
    </div>

    {# Section with links to edit or add related information #}
    <h5 class="mt-4">Updates</h5>
    <div class="list-group">
        <a href="{% url 'edit_profile' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
                <h6 class="mb-1">Personal Details</h6>
                <small class="text-muted">Edit your personal information.</small>
            </div>
            <i class="fas fa-chevron-right text-muted"></i>
        </a>
        <a href="{% url 'spouse' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
                <h6 class="mb-1">Spouse Details</h6>
                <small class="text-muted">Add or update spouse information.</small>
            </div>
            <i class="fas fa-chevron-right text-muted"></i>
        </a>
        <a href="{% url 'children' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
                <h6 class="mb-1">Children Details</h6>
                <small class="text-muted">Add or update your children's information.</small>
            </div>
            <i class="fas fa-chevron-right text-muted"></i>
        </a>
        <a href="{% url 'parent' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
                <h6 class="mb-1">Parent Details</h6>
                <small class="text-muted">Add or update your parents' information.</small>
            </div>
            <i class="fas fa-chevron-right text-muted"></i>
        </a>
        <a href="{% url 'next_of_kin' %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
                <h6 class="mb-1">Next of Kin</h6>
                <small class="text-muted">Add or update your next of kin.</small>
            </div>
            <i class="fas fa-chevron-right text-muted"></i>
        </a>
    </div>
</div>
{% endblock %}
